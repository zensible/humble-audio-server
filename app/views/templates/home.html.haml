#top.flex-column{"ng-controller" => "HomeCtrl"}
  #media-selector.flex-height{ "ng-if" => "home.device == null"}
    %div{ :style => "padding: 20px" }
      %p
        Welcome to Multiroom Audio 1.0
      %p
        Please select a Chromecast audio device below

  #media-selector.flex-height{ "ng-if" => "home.device != null"}
    #mode-select.ellipsis
      %p
        %a{ "ng-click" => "selectMode('presets')"}
          Presets
      %p
        %a{ "ng-click" => "selectMode('playlists')"}
          Playlists
      %p
        %a{ "ng-click" => "selectMode('music')"}
          Music
      %p
        %a{ "ng-click" => "selectMode('radio')"}
          Radio
      %p
        %a{ "ng-click" => "selectMode('spoken')"}
          Spoken
      %p
        %a{ "ng-click" => "selectMode('white-noise')"}
          White Noise

    #selector1.ellipsis{ "ng-if" => "home.mode == 'music' || home.mode == 'playlist'" }
      %div{ "ng-if" => "home.mode == 'music'" }
        %h4
          Music By Folder:
        .folder-name{ "ng-repeat" => "folder in home.folders" }
          %a{ "ng-click" => "get_media_folder(folder.id)"}
            {{folder.basename}}

    #selector2
      .mp3-record
        .mp3-title
          Title
          (
          %a{ "ng-click" => "refresh_media()"}
            refresh
          )
        .mp3-artist.ellipsis
          Artist
        .mp3-album.ellipsis
          Album
        .mp3-year
          Year
        .mp3-length-seconds
          Time
      .mp3-record{ "ng-repeat" => "mp3 in home.media" }
        .mp3-title.ellipsis
          %div{ "ng-if" => "playlist.current_index == $index", style: "margin-left: -20px; display: inline" }
            %img{ "src" => "/images/sound_16.png", "ng-if" => "!buffering" }
            %img{ "src" => "/images/sound_buffering_16.png", "ng-if" => "buffering" }

          %a{ "ng-click" => "play($index)"}
            {{mp3.title || mp3.filename}}
        .mp3-artist.ellipsis
          {{mp3.artist || 'N/A' }}
        .mp3-album.ellipsis
          {{mp3.album || 'N/A'}}
        .mp3-year
          {{mp3.year || 'N/A'}}
        .mp3-length-seconds
          {{mp3.length_seconds | secondsToDateTime | date:'H:mm:ss' }}


  #cast-select.flex-height
    %table.table{ :style => "width: 100%" }
      %tr
        %td{ :style => "width: 50%" }
          %table{ :style => "width: 100%; table-layout: fixed" }
            %tr{ "ng-repeat" => "device in home.devices.groups" }
              %td.ellipsis{ :style => "width: 40%;" }
                %a.ellipsis{ "ng-click" => "select_cast(device)" }
                  {{device.friendly_name}}
                  %sup{ "ng-if" => "home.device == device" }
                    *
              %td.ellipsis{ :style => "width: 60%; padding-right: 40px" }
                %input.slider{ type: "range", min: "0", max: "1", step: ".05", "ng-click" => "volume_change(device)", "ng-model" => "device.volume_level" }

        %td{ :style => "width: 50%" }
          %table{ :style => "width: 100%; table-layout: fixed" }
            %tr{ "ng-repeat" => "device in home.devices.audios" }
              %td.ellipsis{ :style => "width: 40%;" }
                %a.ellipsis{ "ng-click" => "select_cast(device)" }
                  {{device.friendly_name}}
                  %sup{ "ng-if" => "home.device == device" }
                    *
              %td.ellipsis{ :style => "width: 60%; padding-right: 40px" }
                %input.slider{ type: "range", min: "0", max: "1", step: ".05", "ng-click" => "volume_change(device)", "ng-model" => "device.volume_level" }
  #playbar
    #playerControl.g-z-index-header.m-visible
      #playerControl__inner

        #jquery_jplayer_1.jp-jplayer

        #playerControl__wrapper.l-container.l-fullwidth
          %ul#playerControl__controls.sc-list-nostyle.g-dark.sc-clearfix

            %li{ style: "float: left; width: 50px;" }
              %img{ "ng-src" => "{{ playlist.current_item['img50'] }}" }
            %li#playerControl__playPauseSkip
              %button#player-prev.skipControl.playerControl__icon.sc-ir.skipControl__previous{ "ng-click" => "player.prev()", title: "Play previous", "ng-class" => "{ 'disabled': player.playlistIndex == 0 }" }
              %button#player.play.playControl.playerControl__icon.sc-ir{"ng-show" => "!player.playing", "ng-click" => "resume()", :title => "Play current", title: "Play current", "ng-class" => "{ 'disabled': playlist.items.length == 0 }"}
              %button#player-pause.pauseControl.playerControl__icon.sc-ir{"ng-show" => "player.playing", "ng-click" => "pause()", "ng-cloak" => "", :title => "Pause current", title: "Pause current"}
              %button#player-next.skipControl.playerControl__icon.sc-ir.skipControl__next{ "ng-click" => "player.next()", title: "Skip to next", "ng-class" => "{ 'disabled': player.playlistIndex == player.playlist.length - 1 }" }

            %li#playerControl__repeat
              %button.repeatControl.sc-ir{:title => "Repeat playing track"} Repeat track

            %li#playerControl__timeline.sc-clearfix
              #playbackChrono.sc-clearfix.is-scrubbable.has-sound
                #playbackChrono__timePassed
                  %span{"aria-hidden" => "true"} 0:00
                #playbackChrono__progressWrapper.hand{ "ng-click" => "player.seek($event)" }
                  #playbackChrono__progressBackground
                  #playbackChrono__progressBar{:style => "width: 0%;"}
                  #playbackChrono__progressHandle.sc-ir{:style => "left: 16px;"}
                #playbackChrono__duration
                  %span{"aria-hidden" => "true"}
